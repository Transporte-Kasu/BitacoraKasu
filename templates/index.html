{% extends "base.html" %}
{% load static %}

{% block title %}Inicio{% endblock %}

{% block content %}
<div class="page-header mb-4">
    <h1 class="page-title" style="color: var(--primary-color);">
        Bienvenido al Sistema de GestiÃ³n de Transporte
    </h1>
    <p style="color: #7F8C8D;">Panel de control y administraciÃ³n de operadores, unidades y bitÃ¡coras de viaje</p>
</div>

<!-- Tarjetas de resumen -->
<div class="grid grid-4 mb-4">
    <div class="card" style="border-top: 4px solid #E74C3C;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="color: #E74C3C; margin-bottom: 0.5rem;">Operadores</h3>
                <p style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin: 0;">
                    {{ total_operadores|default:"0" }}
                </p>
                <p style="color: #7F8C8D; font-size: 0.9rem;">Activos en el sistema</p>
            </div>
            <div style="font-size: 3rem;">ğŸ‘¤</div>
        </div>
        <a href="{% url 'operadores:dashboard' %}" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
            Ver operadores
        </a>
    </div>

    <div class="card" style="border-top: 4px solid #F39C12;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="color: #F39C12; margin-bottom: 0.5rem;">Unidades</h3>
                <p style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin: 0;">
                    {{ total_unidades|default:"0" }}
                </p>
                <p style="color: #7F8C8D; font-size: 0.9rem;">VehÃ­culos en flota</p>
            </div>
            <div style="font-size: 3rem;">ğŸš›</div>
        </div>
        <a href="{% url 'unidades:dashboard' %}" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
            Ver unidades
        </a>
    </div>

    <div class="card" style="border-top: 4px solid #27AE60;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="color: #27AE60; margin-bottom: 0.5rem;">BitÃ¡coras</h3>
                <p style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin: 0;">
                    {{ total_bitacoras|default:"0" }}
                </p>
                <p style="color: #7F8C8D; font-size: 0.9rem;">Viajes registrados</p>
            </div>
            <div style="font-size: 3rem;">ğŸ“‹</div>
        </div>
        <a href="{% url 'bitacoras:dashboard' %}" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
            Ver bitÃ¡coras
        </a>
    </div>

    <div class="card" style="border-top: 4px solid #3498DB;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h3 style="color: #3498DB; margin-bottom: 0.5rem;">Combustible</h3>
                <p style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin: 0;">
                    {{ total_cargas_combustible|default:"0" }}
                </p>
                <p style="color: #7F8C8D; font-size: 0.9rem;">Cargas registradas</p>
            </div>
            <div style="font-size: 3rem;">â›½</div>
        </div>
        <a href="{% url 'combustible:dashboard' %}" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
            Ver combustible
        </a>
    </div>
</div>

<!-- SecciÃ³n de acciones rÃ¡pidas -->
<div class="grid grid-2">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸš€ Acciones RÃ¡pidas</h3>
        </div>
        <div class="card-body">
            <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 1rem;">
                    <a href="{% url 'bitacoras:create' %}" class="btn btn-success" style="width: 100%;">
                        â• Registrar nuevo viaje
                    </a>
                </li>
                <li style="margin-bottom: 1rem;">
                    <a href="{% url 'operadores:create' %}" class="btn btn-success" style="width: 100%;">
                        â• Agregar operador
                    </a>
                </li>
                <li style="margin-bottom: 1rem;">
                    <a href="{% url 'unidades:create' %}" class="btn btn-success" style="width: 100%;">
                        â¤ Agregar unidad
                    </a>
                </li>
                <li style="margin-bottom: 1rem;">
                    <a href="{% url 'combustible:wizard' paso=1 %}" class="btn btn-success" style="width: 100%;">
                        â¤ Registrar carga de combustible
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ“Š EstadÃ­sticas del Sistema</h3>
        </div>
        <div class="card-body">
            <div style="padding: 1rem 0;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--light-color);">
                    <span style="color: #7F8C8D;">Viajes completados:</span>
                    <strong style="color: var(--primary-color);">{{ viajes_completados|default:"0" }}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--light-color);">
                    <span style="color: #7F8C8D;">Viajes en curso:</span>
                    <strong style="color: var(--accent-color);">{{ viajes_en_curso|default:"0" }}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--light-color);">
                    <span style="color: #7F8C8D;">Operadores activos:</span>
                    <strong style="color: var(--success-color);">{{ operadores_activos|default:"0" }}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--light-color);">
                    <span style="color: #7F8C8D;">Unidades activas:</span>
                    <strong style="color: var(--success-color);">{{ unidades_activas|default:"0" }}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--light-color);">
                    <span style="color: #7F8C8D;">Cargas hoy:</span>
                    <strong style="color: #3498DB;">{{ cargas_hoy|default:"0" }}</strong>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--light-color);">
                    <span style="color: #7F8C8D;">Litros cargados hoy:</span>
                    <strong style="color: #3498DB;">{{ total_litros_hoy|default:"0" }} L</strong>
                </div>
                {% if alertas_candado > 0 %}
                <div style="display: flex; justify-content: space-between;">
                    <span style="color: #E74C3C;">âš ï¸ Alertas de candado:</span>
                    <strong style="color: #E74C3C;">{{ alertas_candado }}</strong>
                </div>
                {% else %}
                <div style="display: flex; justify-content: space-between;">
                    <span style="color: #7F8C8D;">Cargas en proceso:</span>
                    <strong style="color: var(--accent-color);">{{ cargas_en_proceso|default:"0" }}</strong>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- InformaciÃ³n adicional -->
<div class="card mt-4" style="background: linear-gradient(135deg, var(--primary-color) 0%, #34495E 100%); color: white;">
    <div style="display: flex; align-items: center; gap: 2rem;">
        <div style="font-size: 4rem;">â„¹ï¸</div>
        <div>
            <h3 style="color: var(--accent-color); margin-bottom: 0.5rem;">Sistema de GestiÃ³n de Transporte</h3>
            <p style="margin: 0; line-height: 1.6;">
                Este sistema le permite gestionar de manera eficiente todos los aspectos de su flota de transporte, 
                incluyendo el seguimiento de operadores, unidades vehiculares y bitÃ¡coras de viaje con integraciÃ³n 
                a Google Maps para cÃ¡lculo automÃ¡tico de rutas y distancias.
            </p>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
    // JavaScript especÃ­fico para la pÃ¡gina de inicio
    console.log('ğŸ“Š PÃ¡gina de inicio cargada');
</script>
{% endblock %}
